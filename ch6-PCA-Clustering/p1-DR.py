"""
维度约简计算代码
"""
import numpy as np

u1 = np.array([-0.390, 0.089, -0.916]).T
u2 = np.array([-0.639, -0.742, 0.200]).T
u3 = np.array([-0.663, 0.664, 0.346]).T

x = np.array([-0.343, -0.754, 0.241]).T

a1 = -0.154
a2 = 0.828
a3=-0.190

# 计算x在u1上的投影
xp = a1*u1 # [0.06006, -0.013706, 0.141064]

# 该投影可以直接从投影矩阵中获取
P1 = (u1.reshape(-1, 1))@(u1.reshape(-1, 1).T)
xp = P1@x # [0.06006, -0.013706, 0.141064]

# 误差向量
eps = a2*u2 + a3*u3 # [-0.403, -0.741, 0.0998]

# 验证正交关系
print(xp.T@eps) # 2.5e-05

